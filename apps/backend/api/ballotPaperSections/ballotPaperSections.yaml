summary: 'Create and read ballot paper sections'
description: |
  A ballot paper section is always linked to one ballot paper.
  You can create a new one ore read all the existing ones for an ballot paper.
post:
  tags:
    - BallotPapersSections
  summary: 'Create a ballot paper section'
  description: |
    Creates a ballot paper section with a link to a ballot paper.
    The user of the API access token needs access to the linked ballot paper (election).
    The ballot paper can only be created if the election of the linked ballot paper is not frozen.

    This endpoint is currently only a draft and not implemented!
    When this endpoint is implemented this note will be removed.
  security:
    - voturaBackendAuth: []
  operationId: 'createBallotPaperSection'
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: './schemas.yaml#/components/schemas/ballotPaperSectionCreateObject'
  responses:
    '201':
      description: |
        Created.
        The request was successfully executed.
        Successfully created a new ballot paper section.
      content:
        application/json:
          schema:
            $ref: './schemas.yaml#/components/schemas/ballotPaperSectionReadObject'
    '400':
      $ref: './../globals/responses.yaml#/components/responses/400'
    '401':
      $ref: './../globals/responses.yaml#/components/responses/401'
    '403':
      $ref: './../globals/responses.yaml#/components/responses/403'
    '404':
      $ref: './../globals/responses.yaml#/components/responses/404'
    '406':
      $ref: './../globals/responses.yaml#/components/responses/406'
    '415':
      $ref: './../globals/responses.yaml#/components/responses/415'
    '429':
      $ref: './../globals/responses.yaml#/components/responses/429'
    default:
      $ref: './../globals/responses.yaml#/components/responses/500'
get:
  tags:
    - BallotPapersSections
  summary: 'Get all ballot paper section for an ballot paper'
  description: |
    Returns all ballot paper sections with the public information fields, that are linked to the specified ballot paper. 
    The user of the API access token need the access rights to the ballot paper / election to read the ballot paper section.

    This endpoint is currently only a draft and not implemented!
    When this endpoint is implemented this note will be removed.
  security:
    - voturaBackendAuth: []
  operationId: 'getBallotPapersSections'
  parameters:
    - name: 'ballotPaperId'
      in: 'query'
      description: |
        The ID of the ballot paper for which you want to get the ballot paper sections.
      required: true
      schema:
        $ref: './../globals/schemas.yaml#/components/schemas/uuid'
    - name: 'limit'
      in: 'query'
      description: |
        You can limit the number of returned items in the response array.
      required: false
      schema:
        type: 'integer'
        format: 'int8'
        minimum: 0
        maximum: 50
        example: 42
        default: 20
    - name: 'sortBy'
      in: 'query'
      description: |
        You can sort your response items by providing the key name to your field which you want to sort.
      required: false
      schema:
        type: 'string'
        enum:
          - createdAt
          - modifiedAt
          - name
          - description
          - maxVotes
          - maxVotesPerCandidate
          - ballotPaper
        example: 'modifiedAt'
    - name: 'orderBy'
      in: 'query'
      description: |
        You can specify in which order you want to get your items.
        By default in `asc` (ascending) or when you wish `desc`(descending).
      # Currently I see no need for supporting multi-field sorting. If there is one, we need to update it.
      required: false
      schema:
        type: 'string'
        enum:
          - asc
          - desc
        example: 'asc'
  responses:
    '200':
      description: |
        OK.
        The request was successfully executed.
        Returns ballot paper sections for the requested election.
      content:
        application/json:
          schema:
            type: 'array'
            minItems: 0
            maxItems: 50
            uniqueItems: true
            items:
              $ref: './schemas.yaml#/components/schemas/ballotPaperSectionReadObject'
    '400':
      $ref: './../globals/responses.yaml#/components/responses/400'
    '401':
      $ref: './../globals/responses.yaml#/components/responses/401'
    '403':
      $ref: './../globals/responses.yaml#/components/responses/403'
    '404':
      $ref: './../globals/responses.yaml#/components/responses/404'
    '406':
      $ref: './../globals/responses.yaml#/components/responses/406'
    '429':
      $ref: './../globals/responses.yaml#/components/responses/429'
    default:
      $ref: './../globals/responses.yaml#/components/responses/500'
