summary: 'Create and read ballot papers'
description: |
  A ballot paper is always linked to one election.
  You can create a new one or read all the existing ones for an election.
post:
  tags:
    - BallotPapers
  summary: 'Create a ballot paper'
  description: |
    Creates a ballot paper with a link to an election.
    The user of the API access token needs access to the linked election.
    A ballot paper can only be created if the linked election is not frozen.

    This endpoint is currently only a draft and not implemented!
    When this endpoint is implemented this note will be removed.
  security:
    - voturaBackendAuth: []
  operationId: 'createBallotPaper'
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: './schemas.yaml#/components/schemas/ballotPaperCreateObject'
  responses:
    '201':
      description: |
        Created.
        The request was successfully executed.
        Successfully created a new ballot paper.
      content:
        application/json:
          schema:
            $ref: './schemas.yaml#/components/schemas/ballotPaperReadObject'
    '400':
      $ref: './../globals/responses.yaml#/components/responses/400'
    '401':
      $ref: './../globals/responses.yaml#/components/responses/401'
    '403':
      $ref: './../globals/responses.yaml#/components/responses/403'
    '404':
      $ref: './../globals/responses.yaml#/components/responses/404'
    '406':
      $ref: './../globals/responses.yaml#/components/responses/406'
    '415':
      $ref: './../globals/responses.yaml#/components/responses/415'
    '429':
      $ref: './../globals/responses.yaml#/components/responses/429'
    default:
      $ref: './../globals/responses.yaml#/components/responses/500'
get:
  tags:
    - BallotPapers
  summary: 'Get all ballot papers for an election'
  description: |
    Returns all ballot papers with the public information fields, that are linked to the specified election. 
    The user of the API access token needs the access rights to the election to read the ballot papers.

    This endpoint is currently only a draft and not implemented!
    When this endpoint is implemented this note will be removed.
  security:
    - voturaBackendAuth: []
  operationId: 'getBallotPapers'
  parameters:
    - name: 'electionId'
      in: 'query'
      description: |
        The ID of the election for which you want to get the ballot papers.
      required: true
      schema:
        $ref: './../globals/schemas.yaml#/components/schemas/uuid'
    - name: 'limit'
      in: 'query'
      description: |
        You can limit the number of returned items in the response array.
      required: false
      schema:
        type: 'integer'
        format: 'int8'
        minimum: 0
        maximum: 50
        example: 42
        default: 20
    - name: 'sortBy'
      in: 'query'
      description: |
        You can sort your response items by providing the key name to your field which you want to sort.
      required: false
      schema:
        type: 'string'
        enum:
          - createdAt
          - modifiedAt
          - name
          - description
          - maxVotes
          - maxVotesPerCandidate
          - election
        example: 'modifiedAt'
    - name: 'orderBy'
      in: 'query'
      description: |
        You can specify in which order you want to get your items.
        By default in `asc` (ascending) or when you wish `desc`(descending).
      # Currently I see no need for supporting multi-field sorting. If there is one, we need to update it.
      required: false
      schema:
        type: 'string'
        enum:
          - asc
          - desc
        example: 'asc'
  responses:
    '200':
      description: |
        OK.
        The request was successfully executed.
        Returns ballot papers for the requested election.
      content:
        application/json:
          schema:
            type: 'array'
            minItems: 0
            maxItems: 50
            uniqueItems: true
            items:
              $ref: './schemas.yaml#/components/schemas/ballotPaperReadObject'
    '400':
      $ref: './../globals/responses.yaml#/components/responses/400'
    '401':
      $ref: './../globals/responses.yaml#/components/responses/401'
    '403':
      $ref: './../globals/responses.yaml#/components/responses/403'
    '404':
      $ref: './../globals/responses.yaml#/components/responses/404'
    '406':
      $ref: './../globals/responses.yaml#/components/responses/406'
    '429':
      $ref: './../globals/responses.yaml#/components/responses/429'
    default:
      $ref: './../globals/responses.yaml#/components/responses/500'
